{% extends 'base.html.twig' %}

{% block body %}
    <h1 class="my-3">Liste des athlètes</h1>

    <div class="my-3">
        {{form(form)}}
    </div>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th>Pays</th>
                <th>Photo</th>
                <th>Nom</th>
                <th>Prénom</th>
                <th>Date de naissance</th>
                <th>Discipline</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for ath in athletes %}
                <tr>
                    <td> <img src="{{asset('img/drapeaux/' ~ ath.pays.drapeau )}}" alt="Drapeau {{ath.pays.nom}}"> </td>
                    <td> <img src="{{asset('img/upload/profil/' ~ ath.photo)}}" alt="{{ath.nom}} {{ath.prenom}}"> </td>
                    <td>{{ath.nom}}</td>
                    <td>{{ath.prenom}}</td>
                    <td>{{ath.dateNaissance|date('d/m/Y')}}</td>
                    <td>{{ath.discipline.nom}}</td>
                    <td>
                        <a href="{{ path('update_athlete', {id: ath.id}) }}"><button class="btn btn-info">Modifier</button></a>
                        <a href="{{ path('delete_athlete', {id: ath.id}) }}"><button class="btn btn-danger">Supprimer</button></a>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td colspan="7" class="text-info">Pas d'athlète enregistré pour le moment</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
